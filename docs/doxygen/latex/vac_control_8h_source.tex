\doxysection{vac\+Control.\+h}
\hypertarget{vac_control_8h_source}{}\label{vac_control_8h_source}\index{C:/Users/Adrian/Documents/git/FFRESW/eSW/libraries/vacControl/vacControl.h@{C:/Users/Adrian/Documents/git/FFRESW/eSW/libraries/vacControl/vacControl.h}}
\mbox{\hyperlink{vac_control_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ VACCONTROL\_H}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ VACCONTROL\_H}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <Arduino.h>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <Wire.h>}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00018\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacevac_control_module}{vacControlModule}}}
\DoxyCodeLine{00019\ \{}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{namespacevac_control_module_af8a9e2bf7ef4f562b53edc2d3e295d53}{SwitchStates}}\ :\ \textcolor{keywordtype}{int}}
\DoxyCodeLine{00022\ \ \ \ \ \{}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ Main\_Switch\_OFF,}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ Main\_Switch\_MANUAL,}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ Main\_Switch\_REMOTE,}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ Main\_switch\_INVALID,}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ PUMP\_ON,}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ PUMP\_OFF}
\DoxyCodeLine{00029\ \ \ \ \ \};}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{namespacevac_control_module_a6f02cc810171428b7adbbf2024fceb02}{PumpState}}\ :\ \textcolor{keywordtype}{int}}
\DoxyCodeLine{00033\ \ \ \ \ \{}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ pump\_OFF,}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ pump\_ON}
\DoxyCodeLine{00036\ \ \ \ \ \};}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structvac_control_module_1_1_pressure}{Pressure}}}
\DoxyCodeLine{00041\ \ \ \ \ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ pressure;}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \}\ \mbox{\hyperlink{structvac_control_module_1_1_pressure}{meas}};}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{namespacevac_control_module_a844e338eed4418295df4e4bb05bffde7}{Scenarios}}}
\DoxyCodeLine{00048\ \ \ \ \ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ Scenario\_1\ =\ 0,}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ Scenario\_2\ =\ 1,}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ Scenario\_3\ =\ 2,}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ Scenario\_4\ =\ 3,}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ Scenario\_5\ =\ 4,}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ Invalid\_Scenario\ =\ -\/1}
\DoxyCodeLine{00055\ \ \ \ \ \};}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classvac_control_module_1_1_vac_control}{VacControl}}}
\DoxyCodeLine{00061\ \ \ \ \ \{}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvac_control_module_1_1_vac_control}{VacControl}}();}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvac_control_module_1_1_vac_control}{\string~VacControl}}();}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_a0297a8b42f8d44c4b2e30b4149517907}{initialize}}();}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_a67e66a5d9e7ba06cdcb780206a25426c}{deinitialize}}();}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_acc0cd84b3ce34a11768eef55b405e6ae}{isInitialized}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevac_control_module_af8a9e2bf7ef4f562b53edc2d3e295d53}{SwitchStates}}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_a75608113cf060b0b5c3ce00f8a1aca83}{getSwitchState}}();}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacevac_control_module_a844e338eed4418295df4e4bb05bffde7}{Scenarios}}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_a7dc479878186d0a30150e3ed70222366}{getScenario}}();}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvac_control_module_1_1_pressure}{Pressure}}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_a257a35b34bd6f8e5085f634f12fa6064}{measure}}();}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_aa026020d731fb58e83a81158bcb75f8b}{setVacuumLed}}(\textcolor{keywordtype}{float}\ pressure,\ \textcolor{keywordtype}{float}\ targetPressure);}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_adf78d9e523a3ce86293afd3bc2896d66}{getScenarioFromPotValue}}(\textcolor{keywordtype}{int}\ potValue);}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_a9fca1948580bf33fa8179e9e0214ee44}{setPump}}(\textcolor{keywordtype}{bool}\ flag);}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_a95c1a6dcf04f029f7949942cd5a43973}{run}}();}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_ab3bc974b1cc11b3554ae9ad18b29b2cb}{setExternScenario}}(\textcolor{keywordtype}{int}\ pressure);}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_aefeab43b959f7ef4370b118784594884}{getExternScenario}}();}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_a048f5f504eba25ae34526e186c30e464}{externPump}}(\textcolor{keywordtype}{int}\ pumpState);}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_ac987b20202d353d8ac50149c954f8ac1}{setExternPump}}(\textcolor{keywordtype}{int}\ state);}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_ad4b4ceed961c59c521b3b48e4cab2ed3}{getExternPump}}();}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_a7add417c501e7b08bc549b38f1fac13d}{setExternPressure}}(\textcolor{keywordtype}{float}\ pressure);}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{classvac_control_module_1_1_vac_control_a8c57183ed00c34af0a697715eb31e6b5}{getExternPressure}}();}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvac_control_module_1_1_pressure}{Pressure}}\ \mbox{\hyperlink{structvac_control_module_1_1_pressure}{meas}};}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Define\ Pins\ -\/-\/>\ Input}}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ Main\_Switch\_OFF\ =\ 27;\ \ \ \ \ \ \textcolor{comment}{//Main\_Switch\ OFF\ Mode\ 27}}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ Main\_Switch\_MANUAL\ =\ 28;\ \ \ \textcolor{comment}{//Main\_Switch\ Manual\ Mode\ 28}}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ Main\_Switch\_REMOTE\ =\ 29;\ \ \ \textcolor{comment}{//Main\_Switch\ Remote\ Mode\ 29}}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ Switch\_Pump\_ON\ =\ 23;\ \ \ \ \ \ \ \textcolor{comment}{//Button\ to\ turn\ Pump\ ON\ 23}}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ targetPressure\ =\ A3;\ \ \ \ \ \ \ \textcolor{comment}{//Potentiometer\ for\ Regulation}}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Define\ Pins\ -\/-\/>\ Output}}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ Pump\_Status\_LED\ =\ 24;\ \ \ \ \ \ \textcolor{comment}{//OUTPUT\ to\ see\ State\ off\ Pump}}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ Pump\_Relay\ =\ 25;\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//OUTPUT\ to\ turn\ on/off\ Relais}}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ targetVacuumLED\ =\ 26;\ \ \ \ \ \ \textcolor{comment}{//OUTPUT\ to\ see\ Vacuum\ reached}}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Variables\ to\ save\ Values}}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ currentScenario\ =\ -\/1;}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ currentPumpState\ =\ -\/1;}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Variables\ for\ TargetPressure}}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ TARGET\_PRESSURE\_1\ =\ 1;}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ TARGET\_PRESSURE\_2\ =\ 0.8f;}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ TARGET\_PRESSURE\_3\ =\ 0.5;}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ TARGET\_PRESSURE\_4\ =\ 0.01f;}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO\ NEW\ ADDED-\/>\ CHECK\ FUNCTIONALTY\ WITH\ FRANIC}}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ lastState;}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ lastPumpState;}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \_vacControlInitialized;}
\DoxyCodeLine{00217\ \ \ \ \ \};}
\DoxyCodeLine{00218\ \}}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//VACCONTROL\_H}}

\end{DoxyCode}
